p229

単純な設計のための4つの規則

→ 優れた設計のソフトウェアの開発において重要な役割を果たす

p230

全テストを実行する

テストを可能にすることで、設計者は自ずとクラス1つ1つが小さく、それが単一機能を実装しているような設計へと促されることになる

テストを書けば書くほど、物事をテストが簡単になる方向へと押し進めることになる

リファクタリング

テストができあがれば、コード、クラスを綺麗にし続けることができるようになる

テストがあるという事実は、コードを綺麗にすることで、間違って壊してしまうかもしれないという恐怖を取り除いてくれる

テストがある → リファクタリングができる → 単純な設計の規則の残り3つである、「重複の排除」、「表現力の保証」、「クラスとメソッド数の最小化を適用することもできるようになる」

p231

重複の排除

- テンプレートメソッドパターン

p234

表現に富む

コードは書き手の意図が明快に表現されている必要がある

- 標準の用語を用いることでも、自分の意図を表現できる
    - デザインパターンは、情報伝達としても使用できる。
        - パターン名をクラスにつけることで、自分の設計を他の開発者に伝えることができる
- 単体テスト
    - 自分の意図を表現できる
    - 使用例の文書化につながる
- 書いた関数とクラスをより良くするためにちょっとだけ時間を割くことを意識

p235

クラスとメソッドを最小限に

- 重複の排除、SRPといった概念がいきすぎると、クラスとメソッドがあまりに多く生成されるため、最小限に抑えることは意識したい
    - とはいえ、この規則は全体の中で優先度が最も低い。
    - クラスと関数の数を少なくすることは大事だが、テストを用意し、重複を排除して、コードに自分の意図を表現することがはるかに重要