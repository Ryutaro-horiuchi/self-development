<aside>
💡

「きちんと動くこと」よりも、コードから情報が読み取れるように書式化することが重要

</aside>

## 縦方向の書式化

---

- ソースコードのファイルの行数について
    - 200行 ~ 500行程度が望ましい

### 新聞に例える

- 新聞は縦方向に読むと、一番上には見出しが来ており、大まかな内容がわかる。そのまま下へ読み進めていくと、詳細度が増し、日付、名前、引用等細かな点が明らかとなってくる
- ソースファイルもモジュールやクラスの名前から、単純ではありながらも説明的で内容がわかるようにする
- 一番最初には高レベルの概念とアルゴリズムが書かれており、下へ行くに従い詳細度が増して、低レベルの関数や記述があるのが良い

### 垂直概念分離性

- 空行を用いることで概念が分離され、構造が視覚的にわかりやすい

### 垂直密度

- 関連性の密接さを表す。関連がある概念は、空行は使用せず、近くに記述する

### 垂直距離

- 密接に関連した概念(Ex. クラス)は、垂直方向に近い位置になければならない
    
    → 深い関連を持った概念を複数のファイルに分散するべきではない
    

### 変数宣言

- 変数を宣言するときは、その変数が使用される場所となるべく近い位置で行うべき
    
    → インスタンス変数は、これに対してクラスの頭で宣言しても垂直距離を広げることにはならない。
    

### 依存関数

- ある関数が別の関数を呼び出している場合、それらは近い位置に置くべきである。また、可能な限り、呼び出し側を呼び出される側の上に置くべき

### 概念の密接な関係

なんらかの概念における密接な関係を持っているものは、近い距離に集める

- Ex.
    
    ```java
    class Assert:
    	def assert_true:
    		pass
    
    	def assert_false:
    		pass
    	
    ```
    
    - assert_xxxと、共通の命名体系を持っており、概念上密接な関係を持っている

## 横方向の書式化

---

- なるべく短い行が、プログラマは好んでいる
- 筆者の限度としては、120行

### 水平分離性と密度

- ホワイトスペースを使って、関連するものを結びつけたり、関連の弱いものを遠ざけたりする
- ホワイトスペースの用法として、演算子の優先順位を強調する方法がある
    
    ```java
    return (-b + Math.sqrt(param)) / (2*a)
    
    return b*b - 4*a*c
    ```
    
    - 乗算記号は優先度が高いため、スペースは設けない。減算は優先度が低いため、スペースを設ける

## チームの規則

チームの開発者は、1つの書式規則に従うべきで、全てのメンバーが、その規則を採用すべき