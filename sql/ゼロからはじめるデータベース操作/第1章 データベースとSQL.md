# 第1章 データベースとSQL

## DBMS(データベースマネジメントシステム)

データベースを管理するコンピュータシステム

### DBMSの種類

- 階層型データベース
    - 最も古くからあるデータベースの一つ。データを階層構造(木構造)で表現する
- リレーショナルデータベース(RDB)
    - 関係データベースとも呼ばれ、誕生は1969年までに遡る
    - 列と行の2次元表の形式でデータを管理する
    - SQL(Structured Query Language: 構造化問い合わせ言語)を用いてデータを操作する
    - RDBのDBMSのことを、RDBMSと呼ぶ。以下例
        - Oracle Database, SQL Server, DB2, PostgreSQL, MySQL
- オブジェクト指向データベース(OODB)
    - オブジェクト指向言語のオブジェクトを保存するためのデータベース
- XMLデータベース
    - XML形式のデータを大量かつ高速に扱うために考えられたデータベース
- キー・バリュー型データストア
    - 検索に使用するキー(Key)と値(Value)を組み合わせただけの単純な形でデータを保存するデータベース

## RDBMSの一般的なシステム構成


- クライアント・サーバー型(C / S型)
    - RDBMS(サーバー)が管理しているデータベースに対して、クライアントはSQLを発行して要求を送信する
    - RDBMS(サーバー)はクライアントから送られた内容にしたがって、要求されたデータを返したり、DBに保存されているデータを返す

## SQLの概要


### 標準SQL

ISO(国際標準化機構)で定められた標準規格に準拠したSQLを標準SQLと呼ぶ。

→ 今では標準SQLのサポートが進んできているが、まだRDBMS特有の「方言」も存在している

### SQLの文とその種類

- SQLはいくつかのキーワードと、テーブル名や列名などを組み合わせる
- RDBMSに与える命令の種類により、以下の3つに分類される
    - DDL(データ定義言語)
        - データを格納する入れ物であるDBやテーブルを作成したり、削除したりする命令
        - Ex. CREATE, DROP, ALTER
    - DML(データ操作言語)
        - テーブルの行を検索したり変更したりする。
        - Ex. SELECT INSERT UPDATE
    - DCL(データ制御言語)
        - データベースに対して行った変更を確定したり削除したりする
        - Ex. COMMIT ROLLBACK GRANT REVOKE
    

### 記述ルール

- SQLの文の最後にセミコロン「;」をつける
- キーワードの大文字、小文字は区別されない
    - キーワード、テーブル名、列名は区別されない
    - 好みによるが本書では、キーワードは大文字、テーブル名は頭のみ大文字、そのほかは小文字としている
- 定数(文字列、数値、日付)を直に書くときは決まりがある
    - 文字列を書くときは、シングルクォーテーションで囲む
    - 日付もシングルクォーテーションで囲む
        - 日付には様々な表示形式が存在する(Ex. ‘26 Jan 2010’, ‘10/01/26’, ‘2010-01-26’)
    - 数値は記号で囲まずそのまま記述する

p33

## 命名ルール


- データベース、テーブル、列といった名前に使える文字は、半角文字のアルファベット、数字、アンダーバーのみ
    - 先頭の文字は半角文字のアルファベットから
- ハイフンや$, #などの記号も使用できない

p35-36

- データ型
- 制約
    - NOT NULL制約
    - PRIMARY KEY 制約

p37 

DROP TABLE;

p38

ALTER TABLE;

p41

RENAME 

標準SQLが存在せず、RDBMSごとに異なる