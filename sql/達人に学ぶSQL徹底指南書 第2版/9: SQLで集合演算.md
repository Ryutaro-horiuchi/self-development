## 導入

### 重複行を残すALLオプションをつけるとパフォーマンスが向上する

- [重複行を残す集合演算 - ALLオプション](https://www.notion.so/ALL-d2f3cc2c216e4140b202e05ff8c7817f?pvs=21)
- ALLオプションをつけないと、重複行を削除するために内部でソート処理が発生する
    
    → ALLオプションをつけると重複を削除しないため、ソートが行われずパフォーマンスが向上する
    

### 演算の順番に優先順位がある

UNIONとINTERSECTでは、INTERSECTが先に実行される。UNIONを先に実行したい場合は、括弧で明示的に演算の順序を指定する

## テーブル同士を比較する - 集合の相当性チェック[基本編]

- 2つのテーブルが正しいかを比較する
    - バックアップと最新環境を比較する場合など

テーブル名は違うが、中身が同じ(行数も列も値も)

UNIONを用いる

冪等性

繰り返し処理を実行しても、一度だけ実行した場合と結果が同じになる

UNION も冪等。

UNION ALLは冪等ではない