## デフォルトレイアウトを拡張

### レイアウト(layout)とは

- 再利用可能なレイアウトフレームワークを提供する
- layoutsディレクトリを使用する

### layouts/default.vue

- デフォルトのレイアウト
- レイアウトファイル内では、ページの内容は`<slot />`コンポーネントを表示する
- Ex.
    - `laytous/default.vue`
        
        ```tsx
        <template>
          <div class="container">
            <slot></slot>
            <footer>&copy; proglus.jp</footer>
          </div>
        </template>
        
        <style>
        .container {
            color: red;
        }
        
        footer {
          background-color: orange;
          color: white;
          text-align: center;
        }
        </style>
        ```
        
    - app.vue
        
        ```tsx
        <template>
          <div>
            <NuxtLayout>
              <NuxtPage />
            </NuxtLayout>
          </div>
        </template>
        
        ```
        

## 名前付きレイアウト(補足)

- Ex.
    - layouts/custom.vueを作成
        
        ```tsx
        ...
        footer {
          background-color: green;
          color: white;
          text-align: center;
        }
        </style>
        ```
        
    - 名前付きレイアウトの使用例
        - ページコンポーネント内の`definePageMeta` のlaytoutプロパティで指定できる
            
            ```tsx
            <script setup lang="ts">
            definePageMeta({
              layout: 'custom',
            })
            </script>
            
            ```
            
    - app.vue
        
        ```tsx
        <script setup lang="ts">
        // You might choose this based on an API call or logged-in status
        const layout = 'custom'
        </script>
        
        <template>
          <NuxtLayout :name="layout">
            <NuxtPage />
          </NuxtLayout>
        </template>
        
        ```
        
        - NuxtLayoutコンポーネントにnameプロパティで指定することでレイアウトを変更できる

### エラーページをカスタマイズ

- error.vueを定義する
    - Ex. error.vue
        
        ```tsx
        <template>
          <div v-if="error.statusCode === 404">
            <h1>Error!</h1>
            <p>{{ error.message }}</p>
          </div>
        </template>
        
        <script setup>
          const error = useError()
          console.error(error)
        </script>
        ```
        
        - definePageMetaはここで使用できない
        - errorオブジェクトは次のフィールドを提供してくれる
            
            ```tsx
            interface NuxtError {
              statusCode: number
              fatal: boolean
              unhandled: boolean
              statusMessage?: string
              data?: unknown
              cause?: unknown
            }
            
            ```
            

## HTMLのヘッダー情報を設定する

- タイトル
    
    app.vue
    
    ```tsx
    <script setup>
    ...
    useHead(
      {
        title: "カスタムタイトル"
      }
    )
    </script>
    
    ```
    
- その他
  ```typescript
    <script setup lang="ts">
  useHead({
    title: 'My App',
    meta: [
      { name: 'description', content: 'My amazing site.' },
    ],
    bodyAttrs: {
      class: 'test',
    },
    script: [{ innerHTML: 'console.log(\'Hello world\')' }],
  })
  </script>
  ```