## 動的なルーティングについて

- `users/[id].vue` ファイルを作成
    
    ```tsx
    <template>
      <div>
        <h1>users/{{ $route.params.id }}を表示中</h1>
      </div>
    </template>
    ```
    
- 公式例
    - `~/pages/[slug].vue`
        
        ```html
        <script setup lang="ts">
        const route = useRoute()
        const { data: mountain } = await useFetch(`/api/mountains/${route.params.slug}`)
        </script>
        
        <template>
          <div>
            <h1>{{ mountain.title }}</h1>
            <p>{{ mountain.description }}</p>
          </div>
        </template>
        ```
        
    

### URLパラメーターのバリデーション

- `definePageMeta`を使用する
    - ページコンポーネントのメタデータを設定できる
    - `validate`プロパティ
        - 指定されたルートが有効か検証する。有効であればtrueを返し、無効であればfalseを返す。falseが返却された場合は404エラーが返される
- Ex.
  ```typescript
  <template>
    <div>
      <h1>users/{{ $route.params.id }}を表示中</h1>
    </div>
  </template>

  <script setup>
    definePageMeta({
      validate: async(route) => {
        return /^\d+$/.test(route.params.id )
      }
    })
  </script>
  ```