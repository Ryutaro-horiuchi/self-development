## デシジョンテーブルの概要

- 複数の条件によって決定されるソフトウェアの動作を一覧するための表
- 同値分割テストや境界値テストが単一条件に着目するのに対し、デシジョンテーブルテストは複数の条件に着目して一覧表を作成し、テストを行う
    - 複数の条件とは、ソフトウェアの動作を決める条件が複数あること

### デシジョンテーブルの例

- レンタルDVDの料金割引設定
    
    ![IMG_5850.jpeg](attachment:c5b93c91-2262-4431-b0e3-a7954851a7fb:IMG_5850.jpeg)
    
    - 動作内容が「年齢」「レンタル開始日からの経過期間」という複数の条件によって決定されるソフトウェアのテストなので、デシジョンテーブルを利用する
- デシジョンテーブル
    
    ![IMG_5855.jpeg](attachment:d1a7fc31-b801-4e12-beb9-efe81f58995b:IMG_5855.jpeg)
    

### デシジョンテーブルの作り方

- 枠組み
    
    ![IMG_5851.jpeg](attachment:16bfe370-cf75-40ce-83ea-9034944a8ef9:IMG_5851.jpeg)
    
- フロー
    - 条件とアクションを抜き出す
        - 条件: 各アクションを発生させる前提の条件
        - アクション: 組み合わせによって発生する動作
        - Ex. 条件とアクション
            
            ![IMG_5852.jpeg](attachment:8075a8cb-523d-49c2-8008-1416ccb7bfa9:IMG_5852.jpeg)
            
    - 条件欄とアクション欄に記入する
    - ルールのマス目を埋めていく
        - 「Y」「N」(Yes/No)か「T」「F」(True/False)を記入するのが一般的
        - 条件について考えられる全ての組み合わせを記入する
            - 樹形図を使うと、短期間で組み合わせパターンを列挙できる
                
                ![IMG_5853.jpeg](attachment:5518b8cb-6a34-4e96-98cd-132acbbbf81b:IMG_5853.jpeg)
                
        - 条件の組み合わせパターンが記入済みのデシジョンテーブル
            
            ![IMG_5854.jpeg](attachment:aa67e378-2615-486f-b5fa-d1eb2500c458:IMG_5854.jpeg)
            
            - Y, Nの法則
                - 条件の1行目は、左半分に「Y」, 右半分に「N」
                - 条件の2行目は表の長さ4分の1に「Y」を記入し、同じ長さで交互に「N」「Y」を記入する
                - 条件の3行目は表の長さ8分の1に「Y」を記入し、同じ長さで交互に「N」「Y」を記入する
        - アクションを記入する
            - ルールを縦に見て、「期待される結果」をしっかり考えてY / Nを記入する
            - アクションの発生条件に矛盾があったり、そもそも実現が不可能なものは「N/A」(Not Applicable: 適用不可)として、アクション欄に記入する
            
            ![IMG_5856.jpeg](attachment:f984b182-3956-4674-80b6-f2e0946e3d1b:IMG_5856.jpeg)
            
    

## デシジョンテーブルを見やすくする

### 矛盾している条件を削除する

- [条件について考えられる全ての組み合わせを記入する](https://www.notion.so/1ff93db0555480e09fe7f2a4041932fd?pvs=21) によって、機械的に埋めていくと、実際には起こり得ない矛盾が生じることがある。これらの矛盾している条件のルールは削除をする

### 表を簡略化する

- OR条件でアクションのY / Nが決まる場合、簡略化することができる
- [Ex. 条件とアクション](https://www.notion.so/Ex-1ff93db05554807291dfdd4fc4327b70?pvs=21) の場合、どれか一つでもNがあるとアクションはNになる
    - 下記のように簡略化することができる
        
        ![IMG_5857.jpeg](attachment:995812bf-e58a-472c-809e-93497137fd34:IMG_5857.jpeg)
        
        - 「ー」はどちらでも良いという意味
            - → 表の簡略化の観点で省くのであって、テストをしなくて良いという考えではない

### 表を分割する

- [レンタルDVDの料金割引設定](https://www.notion.so/DVD-1ff93db055548074b53afa870fba1c38?pvs=21) に「毎月1日は、65歳以上は30%オフ、それ以外の人は20%オフ」という条件が追加された場合を考えてみる
    - 条件: 貸出日が各月の1日
    - アクション: 30%オフ
    - 分割前のデシジョンテーブル
        
        ![IMG_5858.jpeg](attachment:619465d6-ed44-423f-849d-8e0566f1a517:IMG_5858.jpeg)
        
- 「貸出日が毎月1日」という条件は他の条件と比べて単発的に発生する独立性の高いもの(1ヶ月30日のうちの1日)。独立性の高いものは、別表に分割できる
    - 分割後のデシジョンテーブル
        
        ![IMG_5859.jpeg](attachment:e7785099-b69f-4b20-afa7-9838f76bd20b:IMG_5859.jpeg)
        
        - 各月の1日を除くデシジョンテーブルには、「貸出日が各月の1日」が 「N」が記入されているルールだけ、最後の列に各月の1日用のデシジョンテーブルが存在することを表す

## 3値以上の答えを持つ条件の採用

- 同値パーティションの考え方を用いて3値以上の答えを持つ条件を採用することによって、デシジョンテーブルを見やすくできる場合がある
- Ex. 紳士服店の会員サービスの仕様
    
    ![IMG_5860.jpeg](attachment:9d407fff-ab13-42e5-9ec9-3f4a56c9c92a:IMG_5860.jpeg)
    
- 3つ以上の値を持たせる条件とアクション
    
    ![IMG_5861.jpeg](attachment:e9285cdc-21b2-48b7-92ff-82300c197a4c:IMG_5861.jpeg)
    
- デシジョンテーブル
    
    ![IMG_5862.jpeg](attachment:eade4f5e-4d8b-4447-9174-591b21e133ee:IMG_5862.jpeg)
    

## 静的テスト

- ソフトウェアを動作させることなく行うテストのことを「静的テスト」と呼ぶが、デシジョンテーブルは静的テストでも利用できる
- 動的テスト前にデシジョンテーブルを用いて静的テストを行ったり仕様を整理することで、テスト対象のソフトウェアの概要や仕様をテスト担当者と共有することが可能