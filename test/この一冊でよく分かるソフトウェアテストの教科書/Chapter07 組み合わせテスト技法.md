システムテストの機能確認テストや環境テストで使用できる

## 組み合わせテストとは

- 複数の条件を組み合わせてソフトウェアの動作を確認するテスト技法
- **単一の条件だけでは発生しないが、複数の条件が組み合わさった際に発生する欠陥を見つけるため**に行う
- 複数の設定の組み合わせをテストするとなると組み合わせの数が膨大になるため、発見できる欠陥数に影響を与えることなく、組み合わせを減らす方法を用いることが重要である

## 2因子間網羅

### 因子

- テスト対象の機能名や設定名のこと

### 水準

- 因子が持つ選択肢や設定値のこと
- Ex. 炊飯器の設定の因子と水準
    
    ![IMG_5935.jpeg](attachment:5533f930-7a8e-4eeb-ab8f-e680f37ded95:IMG_5935.jpeg)
    

### 2因子間網羅という考え方

- 「2つの因子間の組み合わせを全て網羅する」という考え方
- 主な手法は「直交表」「All-Pairs法」
- Ex. All-Pairs法による炊飯器設定の2因子間網羅の組み合わせ表
    
    ![IMG_5936.jpeg](attachment:3f60adee-397a-4d9a-9429-5f4f8eedf786:IMG_5936.jpeg)
    
    - 13通りの組み合わせで、2因子間の組み合わせが全て実現されている
        
        ![IMG_5937.jpeg](attachment:f69db3ed-3b21-40a0-9b2e-5a54fd2dfe81:IMG_5937.jpeg)
        

### 2因子間網羅で十分なのか

- 疑問
    - 本当に2因子間網羅のテストだけで十分なのか
    - なぜ2因子なのか。3因子間網羅やそれ以上の組み合わせ表を用いたテストは不要なのか
- ソフトウェアのテストにおいては、「多くの欠陥は2因子間までで見つかる」という定説がある
- D.Richard Kuhnの研究結果
    
    
    |  | 医療機器に搭載されているソフトウェア | Webブラウザ | サーバー用ソフトウェア | NASAのデータベース |
    | --- | --- | --- | --- | --- |
    | 1因子と2因子で生じる欠陥数の合計が全欠陥数に占める割合 | 97% | 76% | 70% | 93% |

### テスト工数と欠陥を見逃すリスクはトレードオフの関係である

- どの程度のテストで、どれだけの欠陥を見つけられるか。反対にどのテストを省略すると、どの程度欠陥を見逃すリスクが上がるのかといったことを検討しながら、進める必要がある
- トレードオフを意識し、重要度が高い機能は全網羅のテストを行うなど、リスクを下げる工夫も重要である


# All-Pairs法と直行表

## All-Pairs法を使った組み合わせ表の作り方

- 2因子間網羅に特化する形で、因子水準表から組み合わせ表の作成を行なっていく
    - ツールを使えば簡単にテストケースの作成が可能に
    - QumiasPlus
        - Qbookの会員登録が必要
        - 本書の執筆陣が所属する会社
    - PictMaster
        - Microsoft社が提供

## 直行表を使った組み合わせ表の作り方

- 因子水準法をもとにして、直行表テンプレートの中から適切な直行表を選択する
- [Ex. 炊飯器の設定の因子と水準](https://www.notion.so/Ex-20993db055548044bf22f9fc5fd12b48?pvs=21) でいれば、4水準の因子が1つ、3水準の因子が1つ、2水準の因子が3つなので、L16直行表が適している
    
    ![IMG_6025.jpeg](attachment:cbc1d0a2-fcc0-4abb-af55-f8b77aa34b15:IMG_6025.jpeg)
    
    - 選んだ直行表テンプレートに、因子と水準を割り付ける
        
        ![IMG_6024.jpeg](attachment:a3d6087c-abe7-43e1-8207-92d079a06a1b:IMG_6024.jpeg)
        
    

## All-Pairs法と直行表の違い

![IMG_6022.jpeg](attachment:d305d45c-7845-4782-9faa-e88e709de60f:IMG_6022.jpeg)

### 無理して組み合わせテストを行わない

- 組み合わせテストを行うことを目的とするのではなく、何のために組み合わせテストを行うのか、効果があるのかを常に疑問を持つ
    - テストの期待結果を確認・判断ができない場合は、組み合わせテストを行う必要がない
    - 欠陥を発見できたとしても、その原因が特定の因子・水準の組み合わせによるものなのか、別の要因によるものなのかを切り分けられなければ、テストのn効果としては薄い