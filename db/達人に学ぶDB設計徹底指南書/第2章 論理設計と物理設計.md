p29

論理 

 一般的な意味の論理ではなく、「物理層の制約にとらわれない」という意味

論理 → 物理 の手順で設計を行う

p30

論理設計のステップ

1. エンティティの抽出
    1. 「実体」。DBの文脈では、物理的な実体に加えて、概念的なも存在も含まれる
2. エンティティの定義
    1. エンティティがどのようなデータを保持するかを決める
    2. エンティティはデータを属性という形で保持する。二次元表における「列」と同義
3. 正規化
    1. 更新が整合的に行えるように、エンティティのフォーマットを整理する
4. ER図の作成

論理設計の段階では具体的なハードウェアやDBMSのミドルウェアをインストールする必要がない。→ 論理設計は机上で行えると考えて良い

p34

物理設計のステップ

1. テーブル定義
    1. 論理設計で定義された概念スキーマを元に、DBMS内部に格納するための「テーブル」の単位に変換していく作業
    2. 物理モデルと呼ばれる　ERモデルは論理モデル
2. インデックス定義
3. ハードウェアのサイジング
    1. サイジングは二つの意味がある
        1. キャパシティ
            1. 「システムで利用するデータサイズを見積り、それに十分な容量の記憶装置(ストレージ)を選定する」
        2. パフォーマンス
            1. 「システムが十分な性能を発揮できるだけのスペックのCPUやメモリを持ったサーバーを選定する」
            2. ストレージも絡んでくる。
                1. ディスク回転数など性能を決めるスペックがあるため。
                2. 性能問題のほとんどは、ストレージのI/Oネックによって引き起こされる
            3. データの整合性とパフォーマンスの間に強いトレードオフが存在する
                1. 整合性を高くしようとするとパフォーマンスが犠牲になり、パフォーマンスを追求すると整合成を犠牲にする
    2. サイジングを行うには、以下のような入力情報が必要になる
        1. キャパシティのサイジング
            1. システムで利用するデータ量
            2. サービス終了時のデータ増加率
                1. ほとんどのシステムでは、サービスの開始時よりもデータ量は増えるため、運用終了時にデータ量がどの程度になるか見越しておかないと、途中でストレージの容量が足らないという重大な問題が起こる
                2. ただ、終了時のデータ量を正確に見積もるのはむずかしいため、二つのアプローチをとる
                    1. 安全率を大きく取って、余裕を持たせたサイジング
                    2. 仮に後で容量が不足した場合に、簡単に記憶装置を追加できるような構成にしておく
        2. パフォーマンスのサイジング
            1. 性能要件
                
                通常、システム開発では性能要件を二つの指標を使って定義する
                
                1. 処理時間
                    1. 特定の処理について「何秒以内に終了すること」といった形で定義する
                2. スループット
                    1. 特定の時間内にどれだけの処理をこなせるか
                    2. 単位で「1秒あたりの仕事量」を示すTPSという指標を使うのが一般的
            2. リソース使用量の基礎数値
                
                どの程度の処理を行うと、どの程度のハードウェアリソースを消費するのか。根拠となる基礎数値を得る必要がある
                
                1. 類似の稼働中システムのデータを流用する
                2. プロトタイプシステムを構築して、性能検証を実施する
                    
                    → 予算とスケジュールに余裕があるプロジェクトでないと難しいため、キャパシティのサイジングと同様、スケーラビリティに留意したサイジングを行う必要がある
                    
4. ストレージの冗長構成決定
5. ファイルの物理配置決定