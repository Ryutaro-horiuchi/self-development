## コンピューターネットワーク登場の背景

### スダンドアロンからネットワーク利用へ

- 以前コンピューターは単体で使われていた。
    - スタンドアロンと呼ばれている
    - コンピューターは独立しており、顧客データなどは端末A、B、Cそれぞれが持ち、それぞれで修正する必要がある
- コンピューターが進化するにつれ、複数のコンピューターを互いに接続して使うコンピューターネットワークが考えだされた
    - 複数のコンピューターをお互いに接続すると、個々の端末に格納されている情報を複数のコンピューター間で連携できるようになった
    - コンピュータネットワークは、ネットワークの規模によって、LANやWANなどに分類されることがある
    - LAN(Local Area Network)
        - 「ラン」と発音する
        - フロア内や、1つの建物の中、キャンパスの中など、比較的狭い地域の中でのネットワーク
        - イメージ
            
            ![IMG_6222.jpeg](attachment:2a95a563-12d0-4633-b173-3b8867c4e836:IMG_6222.jpeg)
            
    - WAN(Wide Area Network)
        
        「ワン」と発音する
        
        - 地理的に離れた広範囲に及ぶネットワーク。
        - イメージ
            
            ![IMG_6223.jpeg](attachment:28a00630-b428-49a1-939c-ac42b52809cd:IMG_6223.jpeg)
            
        

## コンピューターとネットワークの発展の7つの段階

### 1. バッチ処理

- 処理するプログラムやデータなどを、まとめて一括で処理する方式
- プログラムやデータをカードやテープに記録しておき、それを順番にコンピューターに読み込ませて一括処理する形態になっていた
- イメージ
    
    ![IMG_6224.jpeg](attachment:a4d107c1-af95-4d4e-aebe-a99b442bbffd:IMG_6224.jpeg)
    

### 2. タイムシェアリングシステム(TSS)

- バッチ処理の次に登場したのが、1960年台に現れたTSS
- 1台のコンピューターに複数の端末を接続し、複数のユーザーが同時にコンピューターを利用できるようにしたシステム
    - 仮想的に、一人が1台のコンピューターを占有して利用することが可能になった
- コンピューターと端末の間は、通信回線でスター型に接続された
- イメージ
    
    ![IMG_6225.jpeg](attachment:872752e9-6e11-48fc-afa2-fc14c8374f8d:IMG_6225.jpeg)
    

### 3. コンピューター間通信

- コンピューターとコンピュータ間の通信が可能になり、データを瞬時にやりとりできるようになった
    - それまではフロッピーディスクなどの外部記録媒体にデータを保存して、物理的に輸送しなければならなかった

### 4. コンピューターネットワークの登場

- 1980年代になると、いろいろな種類のコンピューターを相互に接続できるコンピューターネットワークが登場した
    - スーパーコンピューターなどの大型のコンピューターから小型のパソコンまで、多種多様なコンピューターがネットワークで結ばれるようになった

### 5. インターネットの普及

- 1990年代初め電子メールの利用と、WWW(World Wide Web)による情報発信のブームが起こり、企業や一般家庭にインターネットが普及し始めた
    - この流れを受けて各コンピューターメーカーは、自社製品を相互に接続し通信を行っていた各社独自のネットワーク技術を、インターネットに対応させるようになった

### 6. インターネット技術中心の時代へ

- 汎用の通信基盤として、電話網の代わりにIP網が用意され、その上で電話やコンピューター通信、インターネットが構築されている
- ネットワークにつながる機器も、コンピューターだけでなく、携帯端末や家電製品、ゲーム機などに広がった

## プロトコル

### プロトコル一覧

![IMG_6253.jpeg](attachment:f0f0d812-5f05-4c1b-80d4-dd1af0cae63f:IMG_6253.jpeg)

### プロトコルは誰が決めるのか？

- ISOは国際標準として、OSIと呼ばれる通信体系を標準化した
    - 現在こちらは普及していない
- TCP/IPは、IETFで提案や標準化作業が行われているプロトコル

## プロトコルの階層化とOSI参照モデル

### プロトコルの階層化

- OSI参照モデル
    - ISOが定めた通信プロトコルを設計するときの指標。通信に必要な機能を7つの階層に分け機能を分割することで、通信を単純化するためのモデル
    - 各階層は、下位層から特定のサービスを受け、上位層に特定のサービスを提供する
        - 上位層と階層の間でやり取りをするときの約束事をインタフェースと呼ぶ
        - 通信相手の同じ階層とやり取りをするときの約束事を「プロトコル」と呼ぶ
- 階層化はソフトウェア開発のモジュール化に似ている
    - 各階層を独立なものとして扱うことができ、システムのある階層を変更してもその影響がシステム全体に波及せず、拡張性や柔軟性に富んだシステムを構築することができる
    

### OSI参照モデルの各層の役割

![IMG_6254.jpeg](attachment:9533fb71-4c35-49cb-9e7f-d4f4681108d6:IMG_6254.jpeg)

- アプリケーション層
    - 利用されるアプリケーションの中で通信に関係する部分を定めている。ファイル転送や電子メール、遠隔ログインなどを実現するためのプロトコルがある
- プレゼンテーション層
    - アプリケーションが扱う情報を通信に適したデータ形式にしたり、下位層から来たデータをアプリケーション層が処理できるデータ形式にしたりと、データ形式に関する責任を持つ
        - 機器固有のデータ表現形式をネットワーク共通のデータ形式に変換する役割をに夏
        - 同じビット列でも、機器が変われば違う意味に解釈される可能性があるため、それらの整合をとる役割
- セッション層
    - コネクションの確率や切断、転送するデータの切れ目の設定など、データ転送に関する管理を行う
- トランスポート層
    - 宛先のアプリケーションにデータを確実に届ける役目。両端のノード(ネットワークに繋いでいる終端の機器)だけで処理される
- ネットワーク層
    - 宛先までデータを届ける役割。
    - アドレスの体系決めや、どの経路を使うかなどの経路選択の役割持つ
- データリンク層
    - 物理層で直接接続されたノード間での通信を可能にする。
        - 例えばイーサーネットに接続された2つのノード間での通信
- 物理層
    - ビットの列を電圧の工程や光の点滅に変換したり、逆に電圧の工程や光の点滅をビットの列に変換したりする


## OSI参照モデルによる通信処理の例

### 7階層の通信

- 送信側では7層、6層と順番に上の層から下の層へデータが伝えられ、受信側では1層、2層と順番に上の層へデータが伝えられる
- それぞれの階層では、上位層から渡されたデータに自分の階層のプロトコル処理に必要な情報を「ヘッダ」という形でつける
    
    ![IMG_6255.jpeg](attachment:608f943c-b4ca-4fa7-a7a7-6a1913a4c6cf:IMG_6255.jpeg)
    

### セッション層以上での処理

Ex. AさんがBさんに「おはようございます」という文章を送る場合、どのような処理が行われるか

- アプリケーション層
    
    ![IMG_6257.jpeg](attachment:f2431774-9a50-474a-acc8-8de476058bfe:IMG_6257.jpeg)
    
    - 説明
        - メッセージソフト上で「文章を入力した後にデータを送信する部分」がアプリケーション層に相当する
        - 「おはようございます」がメッセージの本文であるという情報や、宛先が「B」であるという情報を表すヘッダ(タグ)が付けられる
        - ホストBのアプリケーションは、ホストAのアプリケーションから送信された情報を分析し、必要に応じてハードディスクなどに保存する
        - ホストBが何らかの理由でメッセージが受信できない場合は、エラーメッセージを返す
            - → アプリケーション固有のエラー処理も、アプリケーション層の役割

- プレゼンテーション層
    - プレゼンテーションとは「表示」　「提示」という意味で、データの表現形式を表す
    - 送信するデータを「コンピュータ固有の表現形式」から「ネットワーク全体で共通の表現方式」に変換して送信する。受信したホストは、「コンピューター固有の表現方式」　に変換してからその後の処理を行う
    - 例の場合は「おはようございます」という文字を、決められた符号化方式によって、「ネットワーク全体で共通の表現方式」に変換する
        - 符号化方式一部(EUC-JP, Shift-JIS, UTF-8, UTF-16)
        - 符号化ができていないと、せっかくメッセージが届いても「文字化けして読めない」ということになる
    - プレゼンテーション層でも、データの符号化方法を識別するためにヘッダがつけられる
- セッション層
    - 両方のホストのセッション層間で、どのようにデータを送れば効率よくやりとりできるか、データの送信方法をどうするかといった打ち合わせを行う
    - Ex. AさんがBさんにメッセージを5通作成したとして、送信方法はいろいろな手順が考えられる
        1. 1つのメッセージを送信するごとにコネクション(送信経路)を確立したり切断したりする方法
        2. 1つのコネクションを利用して5つのメッセージを順番に送信する方法
        3. コネクションを同時に5つ確立して5つのメッセージを送信する方法。
        
        <aside>
        💡
        
        これを判断して制御するのがセッション層の役割
        
        </aside>
        
    - こちらも上位層と同じように、ヘッダ(データをどのように送信するかの手順)を付ける

### トランスポート層以下での処理

- トランスポート層
    
    ![IMG_6267.jpeg](attachment:dd659eec-e936-46a0-9798-33be48e26dca:IMG_6267.jpeg)
    
    - コネクションの確率や切断の処理を行い、ホスト間の論理的な通信手段を作るのがトランスポート層の役割
    - データがきちんと届いたかの確認を実施し、届かなかったデータを再送したりする
    - データ転送の信頼性を保証するために、送り出すデータを識別する印などの情報を含むヘッダがデータにつけられる
    - Ex.
        - ホストAはホストBへの通信路を確保し、データを送信する準備をする。これを「コネクションの確立」と呼ぶ
        - 通信が終わったら、確立したコネクションを切断する
    
- ネットワーク層
    
    ![IMG_6273.jpeg](attachment:23f6ed21-54e5-4389-b96a-12baafdbbe8e:IMG_6273.jpeg)
    
    - ネットワークが接続された環境で、送信ホストから受信ホストまでデータを配達する
    - アドレスをもとにパケットの配送処理が行われる
    - 上位層から渡されたデータにアドレス情報などがつけられてデータリンク層に送られる
    - TCP/IPのネットワーク層に相当するIPでは、データが相手に届けられる保証はせず、トランスポート層に任されている
- データリンク層、物理層
    
    ![IMG_6274.jpeg](attachment:40576af7-160e-4805-8821-5180143268db:IMG_6274.jpeg)
    
    - データリンク層
        - 通信は実際には物理的な通信媒体を使って行われている
        - データリンク層は、通信媒体で直接接続された機器同士でデータのやり取りをできるようにする役割を持つ
        - 直接接続された機器間でもアドレス(MACアドレスまたは物理アドレス、ハードウェアアドレスと呼ばれる)が利用されることがあり、このアドレスの情報がネットワーク層から渡されたデータにつけられる
        - ネットワーク層は最終目的地までのデータ配送を担い、データリンク層は1区間のデータ配送を担う
    - 物理層
        - データの0や1を電圧や光のパルスに変換して物理的な通信媒体に流し込む

## 通信方式の種類

ネットワークや通信は、データの配送方法によって分類できる

### コネクション型

- データの送信を開始する前に、送信ホストと受信ホストの間で回線の接続をする
- 電話の通信と同じ。
    - 相手の電話番号を入力して相手が出てから話をし、終わったら電話を切る
    - コネクション型も通信の前後にコネクションの確立と切断の処理を行う

### コネクションレス型

- コネクションの確立や切断処理がなく、送信したいデータをいつでも送信することができる
- 受信側はいつ誰からデータを受け取るかわからないため、常に確認をする必要がある
- 郵便の配達と同じ
    - 受取人が郵便物を受け取るかは確認せずに、宛先まで配達をする
    - コネクション型も通信相手がいるかどうかは確認せずにデータを送信する